---
const links = {
  main: [
    { label: '首页', href: '/' },
    { label: '通识', href: '/knowledge' },
    { label: '资源库', href: '/resources' },
  ],
  connect: [
    { label: 'GitHub', href: 'https://github.com/hiais/gjnx-official', external: true },
    { label: 'WeChat', href: 'javascript:void(0)', id: 'footer-follow-open' },
    { label: 'RSS', href: '/rss.xml', external: true },
  ]
};
---

<footer class="footer">
  {/* Background Elements */}
  <div class="footer-grid-bg"></div>
  <div class="footer-line-top"></div>
  
  <div class="container">
    {/* Main Content Grid */}
    <div class="footer-content">
      {/* Brand Column */}
      <div class="footer-col brand-col">
        <div class="brand">GJNX<span class="highlight">.TECH</span></div>
        <p class="desc">Deconstructing Silicon Efficiency.</p>
      </div>
      
      {/* Navigation Column */}
      <div class="footer-col">
        <h4>NAVIGATION</h4>
        <div class="links">
          {links.main.map(l => <a href={l.href} class="footer-link">{l.label}</a>)}
        </div>
      </div>

      {/* Connect Column */}
      <div class="footer-col">
        <h4>CONNECT</h4>
        <div class="links">
          {links.connect.map(l => (
            <a 
              href={l.href} 
              class="footer-link"
              target={l.external ? "_blank" : undefined}
              rel={l.external ? "noopener noreferrer" : undefined}
              id={l.id || undefined}
            >{l.label}</a>
          ))}
        </div>
      </div>
    </div>
  
    {/* Bottom Bar */}
    <div class="footer-bottom">
      <div class="copyright mono">
        &copy; {new Date().getFullYear()} 硅基能效. All Rights Reserved.
      </div>
      <div class="sys-status">
        <span class="status-dot"></span>
        <span class="version mono">v2.0</span>
      </div>
    </div>
  </div>
</footer>

<style>
  .footer {
    position: relative;
    z-index: 10;
    background: #030303;
    padding: var(--space-12) 0 var(--space-8); /* Reduced from --space-16 */
    margin-top: 2rem; /* Reduced from 4rem */
    overflow: hidden;
  }

  /* Tactical Grid Background */
  .footer-grid-bg {
    position: absolute;
    inset: 0;
    background-image: 
      linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
  }

  /* Top Accent Line (Cyan Gradient) */
  .footer-line-top {
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent 10%, rgba(0, 240, 255, 0.5) 50%, transparent 90%);
    box-shadow: 0 0 12px rgba(0, 240, 255, 0.25);
  }

  .footer-content {
    position: relative;
    z-index: 1;
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    gap: 4rem;
    margin-bottom: var(--space-12);
    padding-top: 1rem;
  }

  /* Brand Styling */
  .brand {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
    color: #fff;
  }
  .highlight { color: var(--c-accent-cyan); }
  
  .desc { 
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.9rem;
    line-height: 1.6;
    max-width: 300px;
  }

  /* Section Headers (Clean Professional) */
  h4 {
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.45);
    margin-bottom: 1.5rem;
    letter-spacing: 0.08em;
    font-weight: 600;
    text-transform: uppercase;
  }

  /* Links */
  .links { 
    display: flex; 
    flex-direction: column; 
    gap: 0.9rem; 
  }
  
  .footer-link {
    color: rgba(255, 255, 255, 0.85);
    text-decoration: none;
    font-size: 0.95rem;
    transition: color 0.2s ease;
    display: inline-block;
  }
  .footer-link:hover { 
    color: var(--c-accent-cyan);
  }

  /* Bottom Bar */
  .footer-bottom {
    position: relative;
    z-index: 1;
    border-top: 1px solid rgba(255, 255, 255, 0.08);
    padding-top: 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: rgba(255, 255, 255, 0.4);
    font-size: 0.8rem;
  }

  .copyright {
    letter-spacing: 0.01em;
  }

  /* System Status Indicator */
  .sys-status {
    display: flex;
    align-items: center;
    gap: 8px;
  }
  
  .status-dot {
    width: 6px; 
    height: 6px;
    background: #00ff88;
    border-radius: 50%;
    box-shadow: 0 0 6px #00ff88;
    animation: footerPulse 2.5s ease-in-out infinite;
  }
  
  @keyframes footerPulse {
    0%, 100% { opacity: 1; box-shadow: 0 0 6px #00ff88; }
    50% { opacity: 0.5; box-shadow: 0 0 2px #00ff88; }
  }
  
  .version {
    background: rgba(255, 255, 255, 0.05);
    color: rgba(255, 255, 255, 0.5);
    padding: 3px 10px;
    border-radius: 3px;
    font-size: 0.7rem;
    letter-spacing: 0.02em;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .footer-content { 
      grid-template-columns: 1fr; 
      gap: 2.5rem; 
      text-align: left;
    }
    .footer-bottom {
      flex-direction: column;
      gap: 1rem;
      align-items: flex-start;
    }
  }
</style>
