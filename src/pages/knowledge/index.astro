---
import MainLayout from '../../layouts/MainLayout.astro';
import Card from '../../components/ui/Card.astro';
import { getCollection } from 'astro:content';
import SectionHeader from '../../components/ui/SectionHeader.astro';

const allKnowledge = await getCollection('knowledge');
---

<MainLayout title="通识 | Lexicon">
  <SectionHeader 
    title="能效" 
    ghostTitle="通识" 
    subtitle="深度词条与技术定义：从原子级逻辑到系统级架构，全量构建您的硅基能效通识体系。"
  />

  <div class="container section">

    <div class="grid">
      {allKnowledge.map(item => (
        <Card href={`/knowledge/${item.id}`} class="item-card">
          <div class="category mono">{item.data.category.toUpperCase()}</div>
          <h3>{item.data.title}</h3>
          <p>{item.data.description}</p>
        </Card>
      ))}
    </div>
  </div>
</MainLayout>

<style>
  .section { padding: var(--space-12) 0 var(--space-20); }

  .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: var(--space-6); }
  .category { color: var(--c-accent-cyan); font-size: 0.75rem; display: block; margin-bottom: var(--space-2); letter-spacing: 0.05em; }
</style>
