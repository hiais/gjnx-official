---
import MainLayout from '../../layouts/MainLayout.astro';
import Card from '../../components/ui/Card.astro';
import { getCollection } from 'astro:content';

const allKnowledge = await getCollection('knowledge');
---

<MainLayout title="硅基百科 | Wiki">
  <div class="container section">
    <h1>硅基百科 <span class="highlight">/ WIKI</span></h1>
    <p class="subtitle">技术词条与能效定义：构建你的硅基通识体系。</p>

    <div class="grid">
      {allKnowledge.map(item => (
        <Card href={`/knowledge/${item.id}`} class="item-card">
          <span class="category mono">{item.data.category.toUpperCase()}</span>
          <h3>{item.data.title}</h3>
          <p>{item.data.description}</p>
        </Card>
      ))}
    </div>
  </div>
</MainLayout>

<style>
  .section { padding: var(--space-8) 0; }
  .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: var(--space-4); }
  .category { color: var(--c-accent-cyan); font-size: 0.8rem; display: block; margin-bottom: var(--space-2); }
</style>
